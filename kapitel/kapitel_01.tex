\label{sec:einfuehrung}
\section{Einführung}
Dieses Kapitel bietet eine Einführung in die Grundbegriffe von Git und deren Konfigurationseinstellungen. Fortlaufend wird auf Basis dieses \LaTeX{} Dokuments gezeigt, wie ein Projekt mit Git unter Versionskontrolle gestellt werden kann. Dazu werden die wichtigsten Git-Kommandos näher erläutert.

\label{sec:einfuehrung.grundbegriffe}
\subsection{Grundbegriffe}
Um dem Umgang mit Git zu erläutern ist es notwendig, einige Fachbegriffe zu verstehen. 

\myparagraph{Versionskontrollsystem} 
Ein Versionskontrollsystem dient zur Verwaltung und Versionierung von Software. Bekannte Projekte die unter dem Versionskontrollsystem Git stehen sind beispielsweise der Linux-Kernel und Git selbst. Beide Projekte stehen unter der Lizenz GPL. Der Quellcode kann mittels git bezogen werden. Dazu später mehr.

Bei Versionskontrollsystemen wird unterschieden zwischen zentralen und dezentralen Systemen. Git ist ein dezentrales System. Der Entwickler ist nicht abhängig von dem Server auf dem die Versionshierarchie gespeichert ist. Der Entwickler ist in der Lage mit Git die komplette Versionshierarchie auf sein eigenes System zu klonen und auf dieser Basis zu arbeiten.   

\myparagraph{Repository}
Git  verwaltet von jeder Datei unterschiedliche Zustände bzw. Versionen. Diese werden in dem Repository gespeichert. Mithilfe des Repositories ist es möglich, auf jeden Zustand einer Datei zurück zu springen.

\myparagraph{Working Tree}
Alle Modifikationen an Dateien bzw. dem Quellcode werden im Working Tree vorgenommen. Andere Bezeichnungen hierfür sind auch Working Directory oder Workspace. Wobei bei vielen IDEs im Heimatverzeichnis das Verzeichnis workspace erstellt wird um Projekte zu speichern und unter Versionskontrolle zu setzen. 

\myparagraph{Commit}
Ein Commit nimmt jede Veränderung, Modifikation oder Erstellung an Dateien im Working Tree auf. Zusätzlich speichert der Commit noch weitere Informationen wie den Benutzernamen und dessen E-Mail mit Datum und optional gpg-Signatur ab.  

\myparagraph{HEAD}
HEAD bildet eine Referenz ab, in welchem Zustand der Entwickler sein Working Tree vor findet. 

\myparagraph{Branch}
Jede Software kann in ihrem Verlauf mehrere Entwicklungsverzweigungen haben um beispielsweise in jeder Verzweigung einzelne Teilaufgaben wie Patches oder neuen Features von Software zu entwickeln. Diese Verzweigungen werden Branches genannt. Jede Verzweigung kann später durch einen Merge oder Rebase wieder zurück geführt werden.


\label{sec:einfuehrung.git}
\subsection{Einrichtung von Git}
Wie bereits in in Kapitel \ref{sec:einfuehrung.grundbegriffe} erklärt, speichert Git bei jedem Commit den Benutzernamen und E-Mail ab. Bevor nun dieses Dokument, das als \LaTeX{} Projekt angelegt wurde, durch Git verwaltet wird, ist es Sinnvoll den Benutzernamen und die E-Mail Adresse anzupassen \footcite{git-1.6-your-identity}.

\begin{minted}[linenos, framesep=2mm, fontsize=\small]{bash}
$ git config --global user.name "Hugo McKinnock"
$ git config --global user.email "hugo.mckinnock@example.com"
\end{minted}

Ist ein gpg Schlüssel vorhanden, kann dieser direkt hinterlegt werden um Commits direkt im Hintergrund zu signieren. Dazu muss zuerst der gpg Schlüssel ausfindig gemacht werden und anschließend Git mitgeteilt werden.

\begin{minted}[linenos, framesep=2mm, fontsize=\small]{bash}
$ gpg --list-secret-keys --keyid-format 0xSHORT
/home/hugo/.config/gnupg/pubring.gpg
--------------------------------------
sec   rsa4096/0x85ED78DE 2018-03-15 [SC] [verfällt: 2018-09-15]
uid        [  ultimativ] Hugo McKinnock <hugo.mckinnock@example.com>
ssb   rsa4096/0x848DEAC1 2018-03-15 [E] [verfällt: 2018-09-15]

$ git config --global user.signingkey "0x85ED78DE"
$ git config --global commit.gpgSign true
\end{minted}

\section{Projekt auschecken}
Wir erstellen im Heimatverzeichnis, wie von den meisten IDE's bevorzugt, das Verzeichnis \textit{workspace} und klonen von einem Online-Repository dieses Projekt. Anschließend befindet sich im Verzeichnis \textit{workspace} der Unterordner \textit{sdsm\_ss17\_git} in den mittels \textit{cd} anschließend navigiert wird.

\begin{minted}[linenos, framesep=2mm, fontsize=\small]{bash}
$ mkdir ~/workspace
$ git clone https://git.cryptic.systems/fh-trier/sdsm_ss17_git.git
$ cd sdsm_ss17_git
\end{minted}

\begin{INFO}
  Zum klonen eines Online-Repositories wird auf vielen Online-Plattformen wie \href{https://github.com}{GitHub} oder \href{https://gitlab.com}{GitLab} eine Adresse per \textit{HTTPS-} oder \textit{SSH-}Protokoll angeboten. 
  
  Für eine Verbindung per SSH-Protokoll muss ein Account auf diesen Online-Plattformen registriert und der öffentliche Schlüssel des asymmetrischen Verschlüsselungsverfahren hinterlegt sein.  
\end{INFO}

Das heruntergeladene Repository spiegelt nun den Zustand ab, auf dem sich die Referenz \textit{HEAD} befindet. Um dies zu überprüfen, bietet Git den Befehl \textit{git log} an. Wir lassen uns die neusten zwei Commits anzeigen.

\begin{minted}[linenos, framesep=2mm, fontsize=\small]{bash}
$ git log -2
commit 4660915d6c031598c77b49c6275e426f7c3a85c3 (HEAD -> master, 
origin/master, origin/HEAD)
Author: Markus Pesch <markus.pesch@cryptic.systems>
Date:   Thu Mar 15 16:49:12 2018 +0100

add: chapter 1

commit 1ca84c7271f3f3c306b779256bd1902497f44fb9
Author: Markus Pesch <markus.pesch@cryptic.systems>
Date:   Thu Mar 15 13:26:02 2018 +0100

fix: geometry
\end{minted}

Zu erkennen ist, dass sich die Referenz \textit{HEAD} auf der gleichen Position wie der Branch \textit{master} befindet. Der Branch \textit{master} ist ein Branch auf dem lokalen System des Entwicklers. Die Referenz \textit{origin/master} zeigt den Zustand an, auf dem das Online-Repository \textit{origin} und dessen Branch \textit{master} steht.

Um zu überprüfen welche Adresse sich hinter dem Label \textit{origin} befindet, bietet Git den Befehl \textit{git remote -v} an.

\begin{minted}[linenos, framesep=2mm, fontsize=\small]{bash}
$ git remote -v
origin  git@git.cryptic.systems:fh-trier/sdsm_ss17_git.git (fetch)
origin  git@git.cryptic.systems:fh-trier/sdsm_ss17_git.git (push)
\end{minted}
 
\begin{INFO}
  Möchte man eine Remote-Verbindung entfernen kann dies unter Angabe des Git Befehls \textit{git remote remove <label>} vorgenommen werden. 
  
  Hinzufügen von neuen Remote-Verbindungen sind möglich mittels \textit{git remote add $ < $label$ > $ $ < $adresse$ > $}.
\end{INFO}

 
Momentan befindet sich die Referenz HEAD auf dem gleichen Commit wie der lokale Branch \textit{master} und dem Branch \textit{master} des Online-Repositories \textit{origin}.
